<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Karol</title>
    <link rel="icon" href="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/editor.css">
    <link rel="stylesheet" id="editor-theme-stylesheet">

    <!-- <script async src="build/core.js"></script> -->
    <script>
      /* ES6 feature detection. Source: github.com/bevacqua/sixflix */
      try {
        eval('class ಠ_ಠ extends Array{constructor(j=`a`,...c){const q=(({u: e})=>{return {[`${c}`]:Symbol(j)};})({});super(j,q,...c)}}new Promise(f=>{const a=function*(){return "\\u{20BB7}".match(/./u)[0].length===2||!0};for (let z of a()){const [x,y,w,k]=[new Set(),new WeakSet(),new Map(), new WeakMap()];break}f(new Proxy({},{get:(h,i) =>i in h ?h[i]:"j".repeat(0o2)}))}).then(t => new ಠ_ಠ(t.d))');
        document.write('<script async src="build/core.min.js"></scr'+'ipt>');
      } catch(e) {
        document.write('<script async src="build/core-old-browsers.min.js"></scr'+'ipt>');
      }
    </script>
  </head>
  <body>

    <section class="panel editor-panel">
      <header>
        <h2>Code</h2>
      </header>
      <form class="editor-wrapper">
        <div class="editor-buttons">
          <button id="program-load-button" disabled="disabled">Save</button>
          <button id="program-save-button" disabled="disabled">Load</button>
        </div>
        <div id="editor" class="editor">
          <div class="editor-scrollbox">
            <code class="editor-highlight"></code>
            <textarea class="editor-textarea" spellcheck="false"></textarea>
            <pre class="editor-caret-layer"></pre>
          </div>
        </div>
        <div class="editor-buttons">
          <button id="run-button">Run</button>
          <button id="unpause-button" disabled="disabled">▶</button>
          <button id="pause-button" disabled="disabled">⏸</button>
          <button id="step-button" disabled="disabled">Step</button>
          <button id="stop-button" disabled="disabled">⏹</button>
          <!-- ⏯ -->
        </div>
      </form>
    </section>

    <section class="panel world-panel">
      <header>
        <h2>World</h2>
      </header>

      <div class="world-canvas-container-outer">
        <label class="world-tools-toggle-icon" for="world-tools-toggle">&#9881;</label>
        <input type="checkbox" class="offscreen" id="world-tools-toggle">
        <nav class="world-tools">
          <label class="world-tools-toggle-icon" for="world-tools-toggle">✕</label>
          <form id="world-create-form">
            <label>
              <span>Width:</span>
              <input id="width-input" type="number" value="18">
            </label>
            <label>
              <span>Length:</span>
              <input id="length-input" type="number" value="7">
            </label>
            <label>
              <span>Height:</span>
              <input id="height-input" type="number" value="5">
            </label>
            <button>Reset</button>
          </form>

          <form id="world-load-form">
            <label for="file-input">Load *.kdw file:</label>
            <input type="file" id="file-input">
            <button>Load</button>
          </form>

          <form id="world-settings">
            <label for="world-simulation-speed">Speed:</label>
            <input type="range" min="1" max="2.5" step="any" id="world-simulation-speed">
            <label>
              <input type="checkbox" id="world-show-flat">
              Flat World
            </label>
            <label>
              <input type="checkbox" id="world-show-player" checked="checked">
              Show Robot
            </label>
          </form>
        </nav>

        <div class="world-canvas-container-inner">
          <canvas width="600" height="400" id="world-canvas">
            Your Browser needs to support HTML5
          </canvas>
        </div>
      </div>

      <div class="world-output">
        <p id="status-text"></p>
      </div>
    </section>
  </body>
</html>