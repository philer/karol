<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Karol</title>
    <link rel="icon" href="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/editor.css">
    <link rel="stylesheet" id="editor-theme-stylesheet">

    <!-- <script async src="build/core.js"></script> -->
    <script>
      /* ES6 feature detection. Source: github.com/bevacqua/sixflix */
      try {
        eval('class ಠ_ಠ extends Array{constructor(j=`a`,...c){const q=(({u: e})=>{return {[`${c}`]:Symbol(j)};})({});super(j,q,...c)}}new Promise(f=>{const a=function*(){return "\\u{20BB7}".match(/./u)[0].length===2||!0};for (let z of a()){const [x,y,w,k]=[new Set(),new WeakSet(),new Map(), new WeakMap()];break}f(new Proxy({},{get:(h,i) =>i in h ?h[i]:"j".repeat(0o2)}))}).then(t => new ಠ_ಠ(t.d))');
        document.write('<script async src="build/core.min.js"></scr'+'ipt>');
      } catch(e) {
        document.write('<script async src="build/core-old-browsers.min.js"></scr'+'ipt>');
      }
    </script>
  </head>
  <body>

    <section class="panel editor-panel">
      <header>
        <h2 data-i18t="program.code">Code</h2>
      </header>
      <form class="editor-wrapper">
        <div class="editor-buttons">
          <button class="button" id="program-load-button" disabled="disabled" data-i18t="program.save">Save</button>
          <button class="button" id="program-save-button" disabled="disabled" data-i18t="program.load">Load</button>
        </div>
        <div id="editor" class="editor">
          <div class="editor-scrollbox">
            <code class="editor-highlight"></code>
            <textarea class="editor-textarea" spellcheck="false"></textarea>
            <pre class="editor-caret-layer"></pre>
          </div>
        </div>
        <div class="editor-buttons">
          <button class="button" id="run-button" data-i18t="program.run">Run</button>
          <button class="button icon-button" id="unpause-button" disabled="disabled">
            <i class="fa fa-play"></i>
          </button>
          <button class="button icon-button" id="pause-button" disabled="disabled">
            <i class="fa fa-pause"></i>
          </button>
          <button class="button icon-button" id="step-button" disabled="disabled">
            <i class="fa fa-step-forward"></i>
          </button>
          <button class="button icon-button" id="stop-button" disabled="disabled">
            <i class="fa fa-stop"></i>
          </button>
        </div>
      </form>
    </section>

    <section class="panel world-panel">
      <header>
        <h2 data-i18t="world.world">World</h2>
      </header>

      <div class="world-wrapper">

        <nav class="world-tools">
          <label class="button icon-button" for="world-settings-toggle">
            <i class="fa fa-cog"></i>
          </label>
          <i class="separator"></i>
          <button class="button" id="world-new-button" data-i18t="world.new">New</button>
          <i class="separator"></i>
          <label class="button" for="world-file-input" data-i18t="world.load">Load</label>
          <input type="file" class="hidden" id="world-file-input">
          <button class="button" id="world-save-button" data-i18t="world.save">Save</button>
          <i class="separator"></i>
          <label class="button nohover">
            <span data-i18t="world.speed">Speed</span>:
            <input type="range" min="1" max="2.5" step="any" id="world-simulation-speed">
          </label>
        </nav>

        <div class="world-canvas-container">
          <input type="checkbox" class="hidden" id="world-settings-toggle">
          <form class="world-settings">
            <label>
              <span data-i18t="world.width">Width</span>:
              <input id="width-input" type="number" value="18">
            </label>
            <label>
              <span data-i18t="world.length">Length</span>:
              <input id="length-input" type="number" value="7">
            </label>
            <label>
              <span data-i18t="world.height">Height</span>:
              <input id="height-input" type="number" value="5">
            </label>
            <i class="separator"></i>
            <label>
              <input type="checkbox" id="world-show-flat">
              <span data-i18t="world.flat">Flat World</span>
            </label>
            <i class="separator"></i>
            <label>
              <input type="checkbox" id="world-show-player" checked="checked">
              <span data-i18t="world.show_player">Show Robot</span>
            </label>
            <i class="expander"></i>
            <label class="world-settings-close" for="world-settings-toggle">
              <i class="fa fa-times"></i>
            </label>
          </form>

          <div>
            <canvas width="600" height="400" id="world-canvas">
              Your Browser needs to support HTML5
            </canvas>
          </div>
        </div>

        <pre id="world-output"></pre>
      </div>
    </section>
  </body>
</html>